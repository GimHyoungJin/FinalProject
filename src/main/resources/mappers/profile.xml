<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="profile">

  <select id="getProfileById" parameterType="string" resultType="kr.co.movio.mypage.profile.ProfileDTO">
    SELECT * FROM MEMBER WHERE mem_id = #{memId}
  </select>

  <update id="updateProfile" parameterType="kr.co.movio.mypage.profile.ProfileDTO">
    UPDATE MEMBER 
    SET username = #{username}, passwd = #{passwd}, email = #{email}, 
        phone = #{phone}, birth = #{birth}, gender = #{gender}, 
        zipcode = #{zipcode}, address1 = #{address1}, address2 = #{address2}, 
        sms_agree = #{smsAgree}, email_agree = #{emailAgree}, mem_grade = #{memGrade}
    WHERE mem_id = #{memId}
  </update>

  <insert id="insertProfile" parameterType="kr.co.movio.mypage.profile.ProfileDTO">
    INSERT INTO MEMBER (mem_id, username, passwd, email, phone, regdate, birth, gender, zipcode, address1, address2, sms_agree, email_agree, mem_grade)
    VALUES (#{memId}, #{username}, #{passwd}, #{email}, #{phone}, #{regdate}, #{birth}, #{gender}, #{zipcode}, #{address1}, #{address2}, #{smsAgree}, #{emailAgree}, #{memGrade})
  </insert>
</mapper>
