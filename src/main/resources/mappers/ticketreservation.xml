<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

    <mapper namespace="ticketreservation">

    <!-- 예약 정보를 저장하는 SQL문 -->
    <insert id="saveReservation" parameterType="kr.co.movio.reservation.TicketReservationDTO">
        INSERT INTO reservation (res_id, mem_id, screen_movie_id, res_seat_info, adult, teenager, child, tot_people)
        VALUES (#{res_id}, #{mem_id}, #{screen_movie_id}, #{res_seat_info}, #{adult}, #{teenager}, #{child}, #{tot_people})
    </insert>

    <!-- 결제 정보를 저장하는 SQL문 -->
    <insert id="savePayment" parameterType="kr.co.movio.reservation.TicketPaymentDTO">
        INSERT INTO payment (pay_id, res_id, used_coupon_information, imp_uid, mer_uid, pay_method, tot_price, dis_price, final_price, pay_status, pay_time, card_information)
        VALUES (#{pay_id}, #{res_id}, #{used_coupon_information}, #{imp_uid}, #{mer_uid}, #{pay_method}, #{tot_price}, #{dis_price}, #{final_price}, #{pay_status}, #{pay_time}, #{card_information})
    </insert>

    <!-- 예약 정보를 가져오는 SQL문 -->
    <select id="getReservation" parameterType="String" resultType="kr.co.movio.reservation.TicketReservationDTO">
        SELECT * FROM reservation WHERE res_id = #{res_id}
    </select>

    <!-- 결제 정보를 가져오는 SQL문 -->
    <select id="getPayment" parameterType="String" resultType="kr.co.movio.reservation.TicketPaymentDTO">
        SELECT * FROM payment WHERE pay_id = #{pay_id}
    </select>


</mapper>