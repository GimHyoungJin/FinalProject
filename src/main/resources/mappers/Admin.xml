<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.movio.admin.AdminDAO">

  <select id="getAllMembers" resultType="kr.co.movio.admin.AdminDTO">
    SELECT 
      mem_id AS id,
      username AS name,
      email,
      regdate AS joinDate,
      passwd AS password,
      phone,
      birth AS birthDate,
      gender,
      CONCAT(address1, ' ', address2) AS address,
      sms_agree AS smsOptIn,
      email_agree AS emailOptIn,
      mem_grade AS grade
    FROM member
  </select>

  <select id="selectMemberByUsername" parameterType="String" resultType="kr.co.movio.admin.AdminDTO">
    SELECT 
      mem_id AS id,
      username AS name,
      email,
      regdate AS joinDate,
      passwd AS password,
      phone,
      birth AS birthDate,
      gender,
      CONCAT(address1, ' ', address2) AS address,
      sms_agree AS smsOptIn,
      email_agree AS emailOptIn,
      mem_grade AS grade
    FROM member
    WHERE username = #{username}
  </select>

  <select id="selectMemberById" parameterType="String" resultType="kr.co.movio.admin.AdminDTO">
    SELECT 
      mem_id AS id,
      username AS name,
      email,
      regdate AS joinDate,
      passwd AS password,
      phone,
      birth AS birthDate,
      gender,
      CONCAT(address1, ' ', address2) AS address,
      sms_agree AS smsOptIn,
      email_agree AS emailOptIn,
      mem_grade AS grade
    FROM member
    WHERE mem_id = #{id}
  </select>

</mapper>
